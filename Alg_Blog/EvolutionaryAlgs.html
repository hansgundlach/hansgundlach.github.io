<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Alg Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript"  src="http://www.maths.nottingham.ac.uk/personal/drw/LaTeXMathML.js"></script>
    <script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>


</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="index.html">Hans's Algs</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="post.html">Posts</a>
                    </li>
                    <li>
                        <a href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->


<!-- background photo -->
    <header class="intro-header" style="background-image: url('https://upload.wikimedia.org/wikipedia/en/5/5f/No_61_Mark_Rothko.jpg')">



        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Evolutionary Algorithms</h1>
                        <h2 class="subheading"> A new Frontier</h2>

                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <h2 class="section-heading">Basic Rues</h2>

                    <p>
                      A lot about evolutionary algorihmns is in the name. These sort of algorithms rely on a proecess similar to evolution. The algorithmn creates a family and then
                      certain metrics namely the fitness fucntion determine which memebers get passed on to the next iteration. Going into detail, an evolutionary alg first generates a population.
                      Then the fitness is calculated for each memember of the population. The population with  the highest fitness is  individuals creating the most progency. The process is then repeated.
                      After many operations the fittest individual is selected as the solution.

                  </p>

                  <p>
                          Evolutionary algorithmns are useful but face several problems including finding the local maxmimum instead of the global one. Evolutionary algorithms can get around this by
                       increasing the mutation rate. However this will result in the global maximum not being found as acurratly.

                  </p>



<div>
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Evolutionary_Algorithm.svg/587px-Evolutionary_Algorithm.svg.png" alt="Cinque Terre" width="500" height="400">
  </div>
  <span class="caption text-muted">Steps Involved in an evolutionary alg </span>


                    <h2 class = "section-heading"> Applications</h2>
                    Evolutionary algorithmns are still in their infancy but variations on their theme are widespread. Drug company makes new drgs by testing a wide variety of molecules and then
                    making slight adjustements and retesting the fitness of the new "progreny" molecules made from the previous fittest molecules. NASA used evolutionary algorithms to design
                    the attena for the voyager probe.
                    <p>



                      <iframe width="560" height="315" src="https://www.youtube.com/embed/bBt0imn77Zg" frameborder="0" allowfullscreen></iframe>
                    </p>


                    <h2 class = "section-heading"> Program Explanation</h2>
                    Below is a program in python you can modify. The program implements an evolutionary algorithmn designed to find the maximum
                    of $z = -(x^2 + y^2)$ which is (0,0). The program creates a population of random points which then go through the steps outlined in the diagram above.
                    Every time the child's fitness is greater then any member of the population previously I print the coordinates. The picture shows the fitest member of the population
                    over 100 generations.
                    <p>




                    <h2 class="section-heading"> Interactives</h2>

                    <div id="cell">

            from mpl_toolkits.mplot3d import Axes3D

import numpy as np
import matplotlib.pyplot as plt
from matplotlib import cm
import matplotlib as mpl
import random




            #fitness function gets a given array and determines

            #aim of function is to maximize the fucntion z = x^2 + y^2
def fitness(test):

                #fit = (-1)*((test[0])**2 + (test[1])**2)

                fit = (-1)* (np.linalg.norm(test))**2

                return fit

            #mutate randomly changes the values at a random index of an array

def mutate(gene,size):

                new = gene[:]

                position = random.randint(0,len(gene)-1)

                addition = random.randrange(-size,size)

                new[position] = new[position]+addition

                return new


            # does basic mutation and progression

def basicMutation(start):

                i = 0

                while i<50:
                #i is numberof iterations of evolution more iterations mean more accurate
                #optimization value

                    change = mutate(start,2)

                    print(fitness(start)),

                    print(fitness(change))

                    if fitness(start) < fitness(change):


                      print(fitness(start))

                      print(fitness(change))


                      start = change

                    i= i+1

                return start

            #creates a population that we will use for evolution

            # creates a random selection of points
def population(pop):

                genes = []

                for i in range(0,pop):

                    frog = random.sample(range(30),2)

                    genes.append(frog)

                return genes

            #this performs recombination #sex

            #a random length of moms dna is inserted into dads dna

            #and a child list (final) with a mix of data from mom and dad is returned

def sex(mom,dad):

                child_dna = dad[:]

                start = random.randint(0, len(mom))

                end = random.randint(start,len(mom))

                child_dna[start:end] = mom[start:end]

                # add or subtract 2 from some index of child

                mut_rate = 2;

                final = mutate(child_dna,2)

                return final


            #returns a parent from a genepool

def rand_prod_parent(genepool):

                # multiplicative random distribution favors higher fitness individuals

                pick = len(genepool) - random.random()*random.random() * (len(genepool)-1)

                parent = genepool[int(pick)]

                return parent





            #change_arr contains record of all points that had higher fitness then anyone in gene

            #pool

change_arr = []

            # final loop iterates through generations of individuals

            # and gradually genertes higher fitness individuals

def final_loop(pop):

                #creates a list of fit individuals

                #sorts individuals by fitness and then seleccts parents from list

                animals = population(pop)

                animals = sorted(animals,key=fitness)

                i = 0

                #only one set mates at a time

                while i<100:

                    #parents are selected using (1 - rand*rand) distribution to favor higher indices

                    momy = rand_prod_parent(animals)

                    dady = rand_prod_parent(animals)

                    child = sex(momy,dady)

                    #print(child)

                    # check to see if the fitness of child is greater then leed male

                    change_arr.append(child)

                    if fitness(child) > fitness(animals[-1]):

                        change_arr.append(child)

                         #take out last elemenet ie least fit

                        animals.pop(0)

                        animals.append(child)
                        #printing child when child is the fittest animal in the population
                        print(animals[-1])



                    i = i+1
                print(animals[-1])
                print("scatter points represent fittest member of population at each iteration")

                    #print(fitness(animals[-1]))

                    #ax.scatter(animals[-1][0], animals[-1][1],fitness(animals[-1]))


            #graphs x^2 + y^2 = Z^2 (surface to be optimized)

            #as well as

def GrphSrf():


                fig = plt.figure()

                ax = fig.add_subplot(111, projection='3d')

                ax.view_init(azim = 180+160,elev = 0)

                ax.set_xlabel("X")

                ax.set_ylabel("Y")

                ax.set_zlabel("Z")

                X = np.arange(-10,10,2)

                Y = np.arange(-10,10,2)

                X, Y = np.meshgrid(X, Y)


                Z = -.5*(X**2+Y**2)

                surf = ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=cm.coolwarm,
                                       linewidth=0, antialiased=True)

               # norm = mpl.colors.Normalize(vmin= 0,vmax = len(change_arr))

                for x in range(0,len(change_arr)):

                    ax.scatter([change_arr[x][0]],[change_arr[x][1]],fitness(change_arr[x]))

                #ax.scatter()

                plt.show()


            #for x in range(0,hlen(change_arr)):

                #    print("scattering")

            #testing section


            #test each function

            #result when population size is 10

final_loop(10)
GrphSrf()

                      </div>
                    <a href="/static/about.html?v=076b8b4093fa6a45a81e291c7e2b8fb7" id="sagecell_about" target="_blank">About SageMathCell</a>
                    <script>
                    sagecell.makeSagecell({
                    inputLocation: '#cell',
                    languages: ["python"],



                    //Focus the editor
                    callback: function() {$('#cell').find(".CodeMirror").get(0).CodeMirror.focus();}
                    });
                    </script>



                    <h2 class="section-heading">Additional Information</h2>

                    Here are some really interesting games you can play to learn about evolutionary algorithms :
                    http://boxcar2d.com/
                    http://rednuht.org/genetic_walkers/
</div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Hans  2016</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>




</body>

</html>
